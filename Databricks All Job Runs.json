{"version":18,"variables":[{"key":"TenantUrl","type":"code","visible":false,"input":"import { getEnvironmentUrl } from \"@dynatrace-sdk/app-environment\"\n\nexport default async function () {\n  return [getEnvironmentUrl()]\n}","multiple":false,"version":1},{"key":"JobName","type":"text","visible":true,"version":1},{"key":"Environment","type":"query","visible":true,"input":"timeseries avg(databricks.job.success_rate), by: {db_workspace}\n| fields db_workspace\n| dedup db_workspace","multiple":false,"version":1}],"tiles":{"0":{"type":"markdown","content":"\n#### [Unified Services (Traces)]($TenantUrl/ui/apps/dynatrace.classic.services/ui/services?gtf=-2h&gf=all&sorting=name%3Basc&filter=NON_DATABASE_SERVICE-SERVICE_TYPE%3DUnified)"},"1":{"type":"data","title":"Job Success Rate","query":"/*\nWarning:\n - DQL does not support total value mode, the resulting value may diverge from the result from classic metrics.\n*/\ntimeseries { success_rate = avg(databricks.job.success_rate), cost = avg(databricks.job.cost) }, by: { run_name, job_id, db_workspace }\n| fieldsAdd success_rate = arrayAvg(success_rate)\n| sort success_rate desc\n| fieldsAdd cost = arrayAvg(cost)\n| filter contains(db_workspace, $Environment)\n| filter contains(run_name, $JobName)\n| fields run_name, alias:`Job Name`, job_id, alias:`Job ID`, success_rate, alias:`Success Rate`, cost, alias:`Cost (Approx)`","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"success_rate","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":"Job Name","categoryAxisLabel":"Job Name","valueAxis":["Success Rate"],"valueAxisLabel":"Success Rate","tooltipVariant":"single"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"run_name","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"hiddenColumns":[["A:cluster_id.name"],["A:cluster_name.name"],["A:creator_user_name.name"],["A:dt.entity.host.name"],["A:job_id.name"],["A:run_id.name"],["A:run_name.name"],["A:run_page_url.name"],["A:run_type.name"],["B:cluster_id.name"],["B:cluster_name.name"],["B:creator_user_name.name"],["B:dt.entity.host.name"],["B:job_id.name"],["B:result_state.name"],["B:run_id.name"],["B:run_name.name"],["B:run_page_url.name"],["B:run_type.name"],["B:state_message.name"],["B:status_code.name"],["B:status_type.name"],["C:run_name.name"],["C:job_id.name"],["C:run_id.name"],["C:cluster_id.name"],["timeframe"],["interval"]],"colorThresholdTarget":"value","columnWidths":{"[\"success_rate\"]":220.15625,"[\"Success Rate\"]":197.546875,"[\"Job ID\"]":224.578125,"[\"Job Name\"]":684},"sortBy":{"columnId":"[\"Success Rate\"]","direction":"ascending"}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"Success Rate"},"displayedFields":["Job Name"]},"histogram":{"dataMappings":[{"valueAxis":"Success Rate","rangeAxis":""},{"valueAxis":"Cost (Approx)","rangeAxis":""}],"variant":"single","displayedFields":["Job Name","Job ID"]},"unitsOverrides":[{"identifier":"Success Rate","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":0,"id":"success_rate"},{"identifier":"Cost (Approx)","unitCategory":"currency","baseUnit":"usd","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1727440968498}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"2":{"type":"data","title":"Job Duration","query":"/*\nWarning:\n - DQL does not support total value mode, the resulting value may diverge from the result from classic metrics.\n*/\ntimeseries { run = avg(databricks.job.duration.run), queue = avg(databricks.job.duration.queue), setup = avg(databricks.job.duration.setup), execution = avg(databricks.job.duration.execution), cleanup = avg(databricks.job.duration.cleanup) }, by: { run_name, job_id, db_workspace }\n| fieldsAdd run = arrayAvg(run)\n| sort run desc\n| fieldsAdd queue = arrayAvg(queue)\n| fieldsAdd setup = arrayAvg(setup)\n| fieldsAdd execution = arrayAvg(execution)\n| fieldsAdd cleanup = arrayAvg(cleanup)\n| filter contains(db_workspace, $Environment)\n| filter contains(run_name, $JobName)\n| fields run_name, alias:`Job Name`, job_id, alias:`Job ID`, run, alias:`Duration`, queue, alias:`Queue Duration`,\nsetup, alias:`Setup Duration`, execution, alias:`Execution Duration`, cleanup, alias:`Cleanup Duration`","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"run","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540"},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"≥","color":"#dc172a"}],"isEnabled":true}],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"linear","pointsDisplay":"auto","truncationMode":"middle","categoricalBarChartSettings":{"categoryAxis":"Job Name","categoryAxisLabel":"Job Name","valueAxis":["Duration"],"valueAxisLabel":"Duration","tooltipVariant":"single"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"run_name","autoscale":true,"alignment":"center","colorThresholdTarget":"value","trend":{"trendType":"auto","isVisible":true}},"table":{"hiddenColumns":[["B:cluster_id.name"],["B:cluster_name.name"],["B:creator_user_name.name"],["B:dt.entity.host.name"],["B:job_id.name"],["B:run_id.name"],["B:run_name.name"],["B:run_page_url.name"],["B:run_type.name"],["C:cluster_id.name"],["C:cluster_name.name"],["C:creator_user_name.name"],["C:dt.entity.host.name"],["C:job_id.name"],["C:run_id.name"],["C:run_name.name"],["C:run_page_url.name"],["C:run_type.name"],["D:cluster_id.name"],["D:cluster_name.name"],["D:creator_user_name.name"],["D:dt.entity.host.name"],["D:job_id.name"],["D:run_id.name"],["D:run_name.name"],["D:run_page_url.name"],["D:run_type.name"],["E:cluster_id.name"],["E:cluster_name.name"],["E:creator_user_name.name"],["E:dt.entity.host.name"],["E:job_id.name"],["E:run_id.name"],["E:run_name.name"],["E:run_page_url.name"],["E:run_type.name"],["F:cluster_id.name"],["F:cluster_name.name"],["F:creator_user_name.name"],["F:dt.entity.host.name"],["F:job_id.name"],["F:run_id.name"],["F:run_name.name"],["F:run_page_url.name"],["F:run_type.name"],["timeframe"],["interval"]],"colorThresholdTarget":"value","columnWidths":{"[\"execution\"]":144.8125,"[\"setup\"]":94.78125,"[\"run\"]":164.96875,"[\"queue\"]":152.046875,"[\"job_id\"]":190.578125,"[\"Job Name\"]":474,"[\"Queue Duration\"]":149.953125,"[\"Duration\"]":135.0625,"[\"Job ID\"]":161.578125,"[\"Execution Duration\"]":150.28125},"sortBy":{"columnId":"[\"Duration\"]","direction":"descending"}},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{"value":"Duration"},"displayedFields":["Job Name"]},"histogram":{"dataMappings":[{"valueAxis":"Duration","rangeAxis":""},{"valueAxis":"Queue Duration","rangeAxis":""},{"valueAxis":"Setup Duration","rangeAxis":""},{"valueAxis":"Execution Duration","rangeAxis":""},{"valueAxis":"Cleanup Duration","rangeAxis":""}],"variant":"single","displayedFields":["Job Name","Job ID"]},"unitsOverrides":[{"identifier":"Duration","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":true,"added":1727440869041},{"identifier":"Queue Duration","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1727440900763},{"identifier":"Setup Duration","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1727440903346},{"identifier":"Execution Duration","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1727440906506},{"identifier":"Cleanup Duration","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1727440909833}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"0":{"x":0,"y":0,"w":41,"h":1},"1":{"x":0,"y":1,"w":41,"h":11},"2":{"x":0,"y":12,"w":41,"h":13}},"importedWithCode":true,"settings":{"gridLayout":{"mode":"responsive","columnsCount":44}}}